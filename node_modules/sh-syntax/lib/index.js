import fs from 'node:fs/promises';
import path from 'node:path';
import { fileURLToPath } from 'node:url';
import './shim.js';
import '../vendors/wasm_exec.cjs';
import { getProcessor } from './processor.js';
const importMetaUrl = import.meta.url;
const _dirname = importMetaUrl
    ? path.dirname(fileURLToPath(importMetaUrl))
    : __dirname;
export const processor = getProcessor(() => fs.readFile(path.resolve(_dirname, '../main.wasm')));
export const parse = (text, options) => processor(text, options);
export function print(textOrAst, options) {
    if (typeof textOrAst === 'string') {
        return processor(textOrAst, {
            ...options,
            print: true,
        });
    }
    return processor(textOrAst, options);
}
export * from './processor.js';
export * from './types.js';
//# sourceMappingURL=index.js.map